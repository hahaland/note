# 代码审核

## 目的和作用
1、 提高代码可维护性和质量

2、避免只有一个人知道代码作用的情况

3、相关人员审核, 查漏补缺，相互借鉴，更好的提升团队代码质量

## 审核点

1、 代码风格
- 代码风格，比如命名、格式（可以通过代码提交前的自动化检查）
- 代码可读性，比如必要的注释、逻辑是否简单清晰、日志易读
- 代码可维护性，比如实现尽量职责单一，模块化，便于复用和扩展
- 代码鲁棒性，是否有考虑异常情况，有相应的异常处理
- 代码侵入性，对原有代码的改动是否是必要，且影响范围是否有评估及测试，特别是公用库代码（模块化可以减少侵入性代码的产生）

2、 语言/框架相关
- 常见的性能优化（react、webpack、html、js、css、animation）
- 框架开发时常见的注意点（比如react hook的一些注意事项）
- 内存泄漏问题（比如全局变量、事件解绑、闭包）
- 组件通信问题
  - 单向数据流，避免内部隐式修改上层变量
  - 状态管理 ？

## 模块化

模块化的目的是为了更好的复用和扩展，最终还是为了提高效率和方便维护，过度拆分也会影响可读性和复用

拆分代码可以从以下几点着手：

- 相同或相似代码多处使用
- 根据代码间的关联拆分
  - 比如常见的初始化，可能由很多个步骤完成，比如数据初始化，渲染初始化，这些都可以拆分成多个初始函数，在上层包裹一层init，即功能模块化、流程模块化
- 从函数用途出发，工具函数更偏向单一职责，而业务函数更偏向一个功能集合（比如*请求数据 - 数据处理 -分发数据*，或者*处理数据 - 调取一系列接口 - 更新数据*）

## 怎么做

- 从上述角度出发，根据项目和团队情况因地制宜，制定相应的规范（比如考虑项目进度是否吃紧、采取更贴合团队的代码风格），在团队内达成共识
- 评审人员，可以的话尽量由多人把关，带领成员参与评审，有典型例子或者可以在团队中分享



*参考资料：*
- https://juejin.cn/post/7014730244280025118
- https://zhuanlan.zhihu.com/p/344108356
- https://www.yinwang.org/blog-cn/2015/11/21/programming-philosophy